import{c as he,r as e,j as c,l as J,p as Ie,x as De,y as Ae,B as Be,a as _e,z as We,A as Fe}from"./index-CFF0W6i2.js";import{a as Le}from"./use-forget-password-Nyb42Ll-.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$e=he("clock",He);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ve=he("minus",Ge);var ze=Object.defineProperty,qe=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,fe=(r,t,a)=>t in r?ze(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,Ze=(r,t)=>{for(var a in t||(t={}))ve.call(t,a)&&fe(r,a,t[a]);if(K)for(var a of K(t))ge.call(t,a)&&fe(r,a,t[a]);return r},Je=(r,t)=>qe(r,Ye(t)),Ke=(r,t)=>{var a={};for(var s in r)ve.call(r,s)&&t.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&K)for(var s of K(r))t.indexOf(s)<0&&ge.call(r,s)&&(a[s]=r[s]);return a};function Qe(r){let t=setTimeout(r,0),a=setTimeout(r,10),s=setTimeout(r,50);return[t,a,s]}function Ue(r){let t=e.useRef();return e.useEffect(()=>{t.current=r}),t.current}var Xe=18,xe=40,et=`${xe}px`,tt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function nt({containerRef:r,inputRef:t,pushPasswordManagerStrategy:a,isFocused:s}){let[w,d]=e.useState(!1),[C,y]=e.useState(!1),[T,k]=e.useState(!1),O=e.useMemo(()=>a==="none"?!1:(a==="increase-width"||a==="experimental-no-flickering")&&w&&C,[w,C,a]),M=e.useCallback(()=>{let o=r.current,f=t.current;if(!o||!f||T||a==="none")return;let v=o,E=v.getBoundingClientRect().left+v.offsetWidth,W=v.getBoundingClientRect().top+v.offsetHeight/2,u=E-Xe,H=W;document.querySelectorAll(tt).length===0&&document.elementFromPoint(u,H)===o||(d(!0),k(!0))},[r,t,T,a]);return e.useEffect(()=>{let o=r.current;if(!o||a==="none")return;function f(){let E=window.innerWidth-o.getBoundingClientRect().right;y(E>=xe)}f();let v=setInterval(f,1e3);return()=>{clearInterval(v)}},[r,a]),e.useEffect(()=>{let o=s||document.activeElement===t.current;if(a==="none"||!o)return;let f=setTimeout(M,0),v=setTimeout(M,2e3),E=setTimeout(M,5e3),W=setTimeout(()=>{k(!0)},6e3);return()=>{clearTimeout(f),clearTimeout(v),clearTimeout(E),clearTimeout(W)}},[t,s,a,M]),{hasPWMBadge:w,willPushPWMBadge:O,PWM_BADGE_SPACE_WIDTH:et}}var be=e.createContext({}),we=e.forwardRef((r,t)=>{var a=r,{value:s,onChange:w,maxLength:d,textAlign:C="left",pattern:y,placeholder:T,inputMode:k="numeric",onComplete:O,pushPasswordManagerStrategy:M="increase-width",pasteTransformer:o,containerClassName:f,noScriptCSSFallback:v=rt,render:E,children:W}=a,u=Ke(a,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),H,ne,re,ae,le;let[Pe,Ee]=e.useState(typeof u.defaultValue=="string"?u.defaultValue:""),p=s??Pe,I=Ue(p),$=e.useCallback(n=>{w==null||w(n),Ee(n)},[w]),P=e.useMemo(()=>y?typeof y=="string"?new RegExp(y):y:null,[y]),m=e.useRef(null),Q=e.useRef(null),U=e.useRef({value:p,onChange:$,isIOS:typeof window<"u"&&((ne=(H=window==null?void 0:window.CSS)==null?void 0:H.supports)==null?void 0:ne.call(H,"-webkit-touch-callout","none"))}),Y=e.useRef({prev:[(re=m.current)==null?void 0:re.selectionStart,(ae=m.current)==null?void 0:ae.selectionEnd,(le=m.current)==null?void 0:le.selectionDirection]});e.useImperativeHandle(t,()=>m.current,[]),e.useEffect(()=>{let n=m.current,l=Q.current;if(!n||!l)return;U.current.value!==n.value&&U.current.onChange(n.value),Y.current.prev=[n.selectionStart,n.selectionEnd,n.selectionDirection];function h(){if(document.activeElement!==n){V(null),z(null);return}let i=n.selectionStart,g=n.selectionEnd,Z=n.selectionDirection,S=n.maxLength,A=n.value,j=Y.current.prev,R=-1,N=-1,B;if(A.length!==0&&i!==null&&g!==null){let Re=i===g,Ne=i===A.length&&A.length<S;if(Re&&!Ne){let _=i;if(_===0)R=0,N=1,B="forward";else if(_===S)R=_-1,N=_,B="backward";else if(S>1&&A.length>1){let te=0;if(j[0]!==null&&j[1]!==null){B=_<j[1]?"backward":"forward";let Oe=j[0]===j[1]&&j[0]<S;B==="backward"&&!Oe&&(te=-1)}R=te+_,N=te+_+1}}R!==-1&&N!==-1&&R!==N&&m.current.setSelectionRange(R,N,B)}let pe=R!==-1?R:i,me=N!==-1?N:g,Me=B??Z;V(pe),z(me),Y.current.prev=[pe,me,Me]}if(document.addEventListener("selectionchange",h,{capture:!0}),h(),document.activeElement===n&&X(!0),!document.getElementById("input-otp-style")){let i=document.createElement("style");if(i.id="input-otp-style",document.head.appendChild(i),i.sheet){let g="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";q(i.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),q(i.sheet,`[data-input-otp]:autofill { ${g} }`),q(i.sheet,`[data-input-otp]:-webkit-autofill { ${g} }`),q(i.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),q(i.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let x=()=>{l&&l.style.setProperty("--root-height",`${n.clientHeight}px`)};x();let b=new ResizeObserver(x);return b.observe(n),()=>{document.removeEventListener("selectionchange",h,{capture:!0}),b.disconnect()}},[]);let[oe,se]=e.useState(!1),[G,X]=e.useState(!1),[D,V]=e.useState(null),[F,z]=e.useState(null);e.useEffect(()=>{Qe(()=>{var n,l,h,x;(n=m.current)==null||n.dispatchEvent(new Event("input"));let b=(l=m.current)==null?void 0:l.selectionStart,i=(h=m.current)==null?void 0:h.selectionEnd,g=(x=m.current)==null?void 0:x.selectionDirection;b!==null&&i!==null&&(V(b),z(i),Y.current.prev=[b,i,g])})},[p,G]),e.useEffect(()=>{I!==void 0&&p!==I&&I.length<d&&p.length===d&&(O==null||O(p))},[d,O,I,p]);let L=nt({containerRef:Q,inputRef:m,pushPasswordManagerStrategy:M,isFocused:G}),ie=e.useCallback(n=>{let l=n.currentTarget.value.slice(0,d);if(l.length>0&&P&&!P.test(l)){n.preventDefault();return}typeof I=="string"&&l.length<I.length&&document.dispatchEvent(new Event("selectionchange")),$(l)},[d,$,I,P]),ce=e.useCallback(()=>{var n;if(m.current){let l=Math.min(m.current.value.length,d-1),h=m.current.value.length;(n=m.current)==null||n.setSelectionRange(l,h),V(l),z(h)}X(!0)},[d]),ue=e.useCallback(n=>{var l,h;let x=m.current;if(!o&&(!U.current.isIOS||!n.clipboardData||!x))return;let b=n.clipboardData.getData("text/plain"),i=o?o(b):b;n.preventDefault();let g=(l=m.current)==null?void 0:l.selectionStart,Z=(h=m.current)==null?void 0:h.selectionEnd,S=(g!==Z?p.slice(0,g)+i+p.slice(Z):p.slice(0,g)+i+p.slice(g)).slice(0,d);if(S.length>0&&P&&!P.test(S))return;x.value=S,$(S);let A=Math.min(S.length,d-1),j=S.length;x.setSelectionRange(A,j),V(A),z(j)},[d,$,P,p]),je=e.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),de=e.useMemo(()=>({position:"absolute",inset:0,width:L.willPushPWMBadge?`calc(100% + ${L.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:L.willPushPWMBadge?`inset(0 ${L.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:C,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[L.PWM_BADGE_SPACE_WIDTH,L.willPushPWMBadge,C]),Te=e.useMemo(()=>e.createElement("input",Je(Ze({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":p.length===0||void 0,"data-input-otp-mss":D,"data-input-otp-mse":F,inputMode:k,pattern:P==null?void 0:P.source,"aria-placeholder":T,style:de,maxLength:d,value:p,ref:m,onPaste:n=>{var l;ue(n),(l=u.onPaste)==null||l.call(u,n)},onChange:ie,onMouseOver:n=>{var l;se(!0),(l=u.onMouseOver)==null||l.call(u,n)},onMouseLeave:n=>{var l;se(!1),(l=u.onMouseLeave)==null||l.call(u,n)},onFocus:n=>{var l;ce(),(l=u.onFocus)==null||l.call(u,n)},onBlur:n=>{var l;X(!1),(l=u.onBlur)==null||l.call(u,n)}})),[ie,ce,ue,k,de,d,F,D,u,P==null?void 0:P.source,p]),ee=e.useMemo(()=>({slots:Array.from({length:d}).map((n,l)=>{var h;let x=G&&D!==null&&F!==null&&(D===F&&l===D||l>=D&&l<F),b=p[l]!==void 0?p[l]:null,i=p[0]!==void 0?null:(h=T==null?void 0:T[l])!=null?h:null;return{char:b,placeholderChar:i,isActive:x,hasFakeCaret:x&&b===null}}),isFocused:G,isHovering:!u.disabled&&oe}),[G,oe,d,F,D,u.disabled,p]),ke=e.useMemo(()=>E?E(ee):e.createElement(be.Provider,{value:ee},W),[W,ee,E]);return e.createElement(e.Fragment,null,v!==null&&e.createElement("noscript",null,e.createElement("style",null,v)),e.createElement("div",{ref:Q,"data-input-otp-container":!0,style:je,className:f},ke,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Te)))});we.displayName="Input";function q(r,t){try{r.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var rt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const ye=e.forwardRef(({className:r,containerClassName:t,...a},s)=>c.jsx(we,{ref:s,containerClassName:J("flex items-center gap-4 has-[:disabled]:opacity-50",t),className:J("disabled:cursor-not-allowed",r),...a}));ye.displayName="InputOTP";const Se=e.forwardRef(({className:r,...t},a)=>c.jsx("div",{ref:a,className:J("flex items-center gap-4",r),...t}));Se.displayName="InputOTPGroup";const Ce=e.forwardRef(({index:r,className:t,...a},s)=>{const w=e.useContext(be),{char:d,hasFakeCaret:C,isActive:y}=w.slots[r];return c.jsxs("div",{ref:s,className:J("relative flex h-12 w-12 items-center justify-center border-b-4 border-transparent text-2xl font-bold text-orange-600 transition-all",y?"border-orange-600":"border-input",t),...a,children:[d,C&&c.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Ce.displayName="InputOTPSlot";const at=e.forwardRef(({...r},t)=>c.jsx("div",{ref:t,role:"separator",className:"h-1 w-8 bg-white",...r,children:c.jsx(Ve,{})}));at.displayName="InputOTPSeparator";const lt=We({otp:Fe().length(6,"OTP must be 6 digits")});function it({onNext:r}){const t=Ie(),{verifyResetCode:a}=Le(),{handleSubmit:s,setValue:w,watch:d,formState:{errors:C}}=De({resolver:Ae(lt),defaultValues:{otp:""}}),y=d("otp"),T=o=>{console.log("Submitted OTP:",o.otp),a({resetCode:o.otp},{onSuccess:()=>{console.log("OTP verified successfully"),r()}})},[k,O]=e.useState(600);e.useEffect(()=>{const o=setInterval(()=>{O(f=>f<=1?(clearInterval(o),0):f-1)},1e3);return()=>clearInterval(o)},[]);const M=o=>{const f=Math.floor(o/60).toString().padStart(2,"0"),v=(o%60).toString().padStart(2,"0");return`${f}:${v}`};return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen w-full text-white px-4 py-10 space-y-6",children:[c.jsx("div",{className:"",children:c.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold tracking-wide font-baloo",children:t("OTP-code-page")})}),c.jsxs("div",{className:"w-full max-w-md backdrop-blur-md rounded-3xl p-6 sm:p-10 border border-[#D3D3D3] shadow-2xl shadow-black/30  space-y-4",children:[c.jsx("h3",{className:"text-xl md:text-2xl font-bold text-center mb-6",children:t("Enter-The-OTP-You-Have-Received")}),c.jsxs("form",{onSubmit:s(T),className:"space-y-4",children:[c.jsx(ye,{maxLength:6,value:y,onChange:o=>w("otp",o),containerClassName:"justify-center",children:c.jsx(Se,{children:[...Array(6)].map((o,f)=>c.jsx(Ce,{index:f},f))})}),C.otp&&c.jsx("p",{className:"text-red-500 text-center text-sm mt-2",children:C.otp.message}),c.jsxs("div",{className:"text-center text-sm text-gray-300 mt-3 flex items-center justify-center",children:[c.jsx($e,{className:"mr-2"})," ",t("Code-expires-in"),":"," ",M(k)]}),c.jsx(Be,{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-full transition-colors duration-300 mt-4",disabled:k<=0,children:t("Confirm-btn")}),c.jsxs("div",{className:"text-center text-sm text-white mt-4",children:[t("Did-Receive-Verification-Code")," ",c.jsx(_e,{to:"/en/auth/forget-password",className:"text-orange-500 underline hover:text-orange-600",children:t("Resend-Code")})]})]})]})]})}export{it as default};
